<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - CommentControllerTest</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>CommentControllerTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/com.empiezo.empiezo.controller.html">com.empiezo.empiezo.controller</a> &gt; CommentControllerTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">1</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">0.548s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Method name</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">댓글 작성</td>
<td class="success">commentWriteTest()</td>
<td class="success">0.548s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>11:12:30.325 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.empiezo.empiezo.controller.CommentControllerTest]: CommentControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
11:12:30.386 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.empiezo.empiezo.EmpiezoApplication for test class com.empiezo.empiezo.controller.CommentControllerTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.2)

2023-08-28T11:12:30.569+09:00  INFO 7813 --- [    Test worker] c.e.e.controller.CommentControllerTest   : Starting CommentControllerTest using Java 17.0.6 with PID 7813 (started by pedro in /Users/pedro/study/empiezo)
2023-08-28T11:12:30.570+09:00  INFO 7813 --- [    Test worker] c.e.e.controller.CommentControllerTest   : No active profile set, falling back to 1 default profile: &quot;default&quot;
2023-08-28T11:12:30.869+09:00  INFO 7813 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-08-28T11:12:30.901+09:00  INFO 7813 --- [    Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 3 JPA repository interfaces.
2023-08-28T11:12:31.138+09:00  INFO 7813 --- [    Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-08-28T11:12:31.159+09:00  INFO 7813 --- [    Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2023-08-28T11:12:31.160+09:00  INFO 7813 --- [    Test worker] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2023-08-28T11:12:31.213+09:00  INFO 7813 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-28T11:12:31.272+09:00  INFO 7813 --- [    Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-08-28T11:12:31.279+09:00  INFO 7813 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-08-28T11:12:31.358+09:00  INFO 7813 --- [    Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2023-08-28T11:12:31.358+09:00  INFO 7813 --- [    Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-08-28T11:12:31.473+09:00  INFO 7813 --- [    Test worker] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2023-08-28T11:12:31.790+09:00  INFO 7813 --- [    Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-08-28T11:12:31.796+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists comment cascade 
2023-08-28T11:12:31.798+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists post cascade 
2023-08-28T11:12:31.798+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    drop table if exists user cascade 
2023-08-28T11:12:31.800+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    create table comment (
        created_date timestamp(6),
        id bigint generated by default as identity,
        post_id bigint,
        user_id bigint,
        content varchar(255) not null,
        writer varchar(255) not null,
        primary key (id)
    )
2023-08-28T11:12:31.803+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    create table post (
        views integer default 0 not null,
        id bigint generated by default as identity,
        user_id bigint,
        created_date varchar(255),
        modified_date varchar(255),
        title varchar(255) not null,
        writer varchar(255) not null,
        content clob,
        primary key (id)
    )
2023-08-28T11:12:31.805+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    create table user (
        id bigint generated by default as identity,
        username varchar(30) not null unique,
        email varchar(50) not null unique,
        password varchar(100) not null,
        nickname varchar(255) not null unique,
        role varchar(255) check (role in ('USER','ADMIN')),
        primary key (id)
    )
2023-08-28T11:12:31.808+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists comment 
       add constraint FKs1slvnkuemjsq2kj4h3vhx7i1 
       foreign key (post_id) 
       references post
2023-08-28T11:12:31.812+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists comment 
       add constraint FK8kcum44fvpupyw6f5baccx25c 
       foreign key (user_id) 
       references user
2023-08-28T11:12:31.813+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    alter table if exists post 
       add constraint FK72mt33dhhs48hf9gcqrq4fxte 
       foreign key (user_id) 
       references user
2023-08-28T11:12:31.815+09:00  INFO 7813 --- [    Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-08-28T11:12:32.071+09:00  WARN 7813 --- [    Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-08-28T11:12:32.121+09:00  INFO 7813 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@12a7515b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c28654e, org.springframework.security.web.context.SecurityContextHolderFilter@7bdaf563, org.springframework.security.web.header.HeaderWriterFilter@31428f76, org.springframework.security.web.authentication.logout.LogoutFilter@528ef230, com.empiezo.empiezo.security.jwt.JwtAuthenticationFilter@73072745, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@514c6ca0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cb2b947, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ded31cc, org.springframework.security.web.session.SessionManagementFilter@1a865ebf, org.springframework.security.web.access.ExceptionTranslationFilter@21a462ce, org.springframework.security.web.access.intercept.AuthorizationFilter@678b3746]
2023-08-28T11:12:32.382+09:00  INFO 7813 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-08-28T11:12:32.383+09:00  INFO 7813 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-08-28T11:12:32.383+09:00  INFO 7813 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2023-08-28T11:12:32.401+09:00  INFO 7813 --- [    Test worker] c.e.e.controller.CommentControllerTest   : Started CommentControllerTest in 1.95 seconds (process running for 2.503)
2023-08-28T11:12:32.699+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    /* insert for
        com.empiezo.empiezo.domain.User */insert 
    into
        user (email,nickname,password,role,username,id) 
    values
        (?,?,?,?,?,default)
2023-08-28T11:12:32.730+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    /* insert for
        com.empiezo.empiezo.domain.Post */insert 
    into
        post (content,created_date,modified_date,title,user_id,views,writer,id) 
    values
        (?,?,?,?,?,?,?,default)
2023-08-28T11:12:32.803+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    select
        u1_0.id,
        u1_0.email,
        u1_0.nickname,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        user u1_0 
    where
        u1_0.id=?
2023-08-28T11:12:32.808+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    select
        p1_0.id,
        p1_0.content,
        p1_0.created_date,
        p1_0.modified_date,
        p1_0.title,
        p1_0.user_id,
        p1_0.views,
        p1_0.writer,
        c1_0.post_id,
        c1_0.id,
        c1_0.content,
        c1_0.created_date,
        c1_0.user_id,
        c1_0.writer 
    from
        post p1_0 
    left join
        comment c1_0 
            on p1_0.id=c1_0.post_id 
    where
        p1_0.id=?
2023-08-28T11:12:32.814+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    /* insert for
        com.empiezo.empiezo.domain.Comment */insert 
    into
        comment (content,created_date,post_id,user_id,writer,id) 
    values
        (?,?,?,?,?,default)

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /posts/1/comments
       Parameters = {}
          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;64&quot;]
             Body = {&quot;content&quot;:&quot;hello&quot;,&quot;writer&quot;:&quot;손홍민&quot;,&quot;user&quot;:null,&quot;post&quot;:null}
    Session Attrs = {}

Handler:
             Type = com.empiezo.empiezo.controller.CommentController
           Method = com.empiezo.empiezo.controller.CommentController#write(Long, CommentWriteDto)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;0&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2023-08-28T11:12:32.943+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    /* select
        count(*) 
    from
        Comment x */ select
            count(*) 
        from
            comment c1_0
2023-08-28T11:12:32.950+09:00 DEBUG 7813 --- [    Test worker] org.hibernate.SQL                        : 
    /* &lt;criteria&gt; */ select
        c1_0.id,
        c1_0.content,
        c1_0.created_date,
        c1_0.post_id,
        c1_0.user_id,
        c1_0.writer 
    from
        comment c1_0
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 8.2.1</a> at 2023. 8. 28. 오전 11:12:33</p>
</div>
</div>
</body>
</html>
